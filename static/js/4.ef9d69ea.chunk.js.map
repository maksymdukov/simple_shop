{"version":3,"sources":["assets/notification.mp3","Containers/Admins/Dashboard/styles.js","Components/Admins/Sidebar/styles.js","Components/Admins/Sidebar/index.js","Containers/Admins/LastOrders/styles.js","Components/Admins/LastOrders/Card/LastOrderSummary/styles.js","Components/Admins/LastOrders/Card/LastOrderSummary/index.js","Containers/Admins/LastOrders/index.js","Containers/Admins/Dashboard/index.js"],"names":["module","exports","__webpack_require__","p","styles","theme","root","display","marginBottom","minHeight","content","padding","flex","background","palette","paper","position","overflow","sidebar","concat","spacing","unit","top","bottom","width","transition","transitions","create","easing","easeOut","duration","enteringScreen","flexDirection","sidebarClosed","marginLeft","list","listStyle","paddingLeft","route","borderBottom","textDecoration","color","&:link, &:active","&:hover","primary","main","activeRoute","toggleBtnWrapper","right","backgroundColor","common","grey","justifyContent","arrowWrapper","arrow","transform","standard","rotate","withStyles","withRouter","_ref","classes","onToggle","isOpened","match","sidebarClasses","arrowClasses","push","react_default","a","createElement","className","join","index_es","onClick","ArrowForward_default","react_router_dom","to","url","activeClassName","transitionItem","&-enter","opacity","&-enter-active","&-exit","&-exit-active","transitionItemEnter","transitionItemEnterActive","price","container","isChecked","textAlign","order","orderId","date","Date","timestamp","item","xs","toLocaleString","direction","email","name","phone","address","uid","alignItems","totalQuantity","variant","totalPrice","e","stopPropagation","control","checked","taken","onChange","firebase","database","ref","update","value","String","label","audRef","useRef","_useState","useState","setCount","Object","slicedToArray","_useState3","_useState4","lastOrders","setLastOrders","newOrdersListener","res","val","key","prevState","toConsumableArray","current","play","orderStatusChangedListener","console","log","idOfChanged","valueOfChanged","idx","findIndex","updated","objectSpread","updArr","errorHandler","err","useEffect","once","then","limitToLast","on","off","src","audio","type","length","Spinner","TransitionGroup","map","orderObj","CSSTransition","timeout","classNames","OrderCard","cardSummary","Card_LastOrderSummary","cardDetails","OrderCardDetails","_useState2","isSibebarOpened","setIsSidebarOpened","Helmet","title","Sidebar","react_router","path","component","LastOrders"],"mappings":"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","file":"static/js/4.ef9d69ea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/notification.2ade5fe7.mp3\";","const styles = theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        marginBottom: \"-40px\",\r\n        minHeight: \"calc(100vh - 367px)\"\r\n    },\r\n    content: {\r\n        padding: 10,\r\n        flex: 1,\r\n        background: theme.palette.background.paper,\r\n        position: \"relative\"\r\n    },\r\n    paper: {\r\n        position: \"sticky\",\r\n        overflow: \"hidden\"\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","const styles = theme => ({\r\n    sidebar: {\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit *\r\n            7}px ${theme.spacing.unit * 2}px ${theme.spacing.unit * 2}px`,\r\n        position: \"relative\",\r\n        top: 0,\r\n        bottom: 0,\r\n        width: 200,\r\n        minHeight: \"100%\",\r\n        transition: theme.transitions.create([\"margin\"], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen\r\n        }),\r\n        display: \"flex\",\r\n        flexDirection: \"column\"\r\n    },\r\n    sidebarClosed: {\r\n        marginLeft: \"-160px\"\r\n    },\r\n    list: {\r\n        position: \"sticky\",\r\n        top: 100,\r\n        listStyle: \"none\",\r\n        paddingLeft: 0\r\n    },\r\n    route: {\r\n        borderBottom: `1px solid transparent`,\r\n        textDecoration: \"none\",\r\n        display: \"inline-block\",\r\n        color: \"inherit\",\r\n        transition: \"color .2s linear\",\r\n        \"&:link, &:active\": {\r\n            textDecoration: \"none\",\r\n            color: \"inherit\"\r\n        },\r\n        \"&:hover\": {\r\n            textDecoration: \"none\",\r\n            color: theme.palette.primary.main\r\n        }\r\n    },\r\n    activeRoute: {\r\n        color: \"red\",\r\n        borderBottom: `1px solid ${theme.palette.primary.main}`\r\n    },\r\n    toggleBtnWrapper: {\r\n        position: \"absolute\",\r\n        right: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        backgroundColor: theme.palette.common.grey,\r\n        width: 40,\r\n        flexDirection: \"column\",\r\n        justifyContent: \"flex-start\"\r\n    },\r\n    arrowWrapper: {\r\n        position: \"sticky\",\r\n        top: 150\r\n    },\r\n    arrow: {\r\n        position: \"sticky\",\r\n        top: 0,\r\n        transform: \"rotate(180deg)\",\r\n        transition: theme.transitions.create([\"transform\"], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.standard\r\n        })\r\n    },\r\n    rotate: {\r\n        transform: \"rotate(0deg)\"\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport { ButtonBase, withStyles } from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\n\r\n// Icons\r\nimport IconArrow from \"@material-ui/icons/ArrowForward\";\r\n\r\n// Router\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nconst AdminSidebar = ({ classes, onToggle, isOpened, match }) => {\r\n    const sidebarClasses = [classes.sidebar];\r\n    const arrowClasses = [classes.arrow];\r\n    if (!isOpened) {\r\n        sidebarClasses.push(classes.sidebarClosed);\r\n        arrowClasses.push(classes.rotate);\r\n    }\r\n    return (\r\n        <aside className={sidebarClasses.join(\" \")}>\r\n            <ButtonBase className={classes.toggleBtnWrapper} onClick={onToggle}>\r\n                <div className={classes.arrowWrapper}>\r\n                    <IconArrow className={arrowClasses.join(\" \")} />\r\n                </div>\r\n            </ButtonBase>\r\n            <ul className={classes.list}>\r\n                <li>\r\n                    <NavLink\r\n                        className={classes.route}\r\n                        to={`${match.url}/last-orders`}\r\n                        activeClassName={classes.activeRoute}\r\n                    >\r\n                        Orders Live\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </aside>\r\n    );\r\n};\r\n\r\nAdminSidebar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onToggle: PropTypes.func.isRequired,\r\n    isOpened: PropTypes.bool.isRequired,\r\n    match: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(withRouter(AdminSidebar));\r\n","const styles = theme => ({\r\n    transitionItem: {\r\n        \"&-enter\": {\r\n            opacity: 0\r\n        },\r\n        \"&-enter-active\": {\r\n            opacity: 1,\r\n            transition: \"opacity 500ms ease-in\"\r\n        },\r\n        \"&-exit\": {\r\n            opacity: 1\r\n        },\r\n        \"&-exit-active\": {\r\n            opacity: 0,\r\n            transition: \"opacity 500ms ease-in\"\r\n        }\r\n    },\r\n    transitionItemEnter: {\r\n        opacity: 0,\r\n        transition: \"opacity 500ms ease-in\"\r\n    },\r\n    transitionItemEnterActive: {\r\n        opacity: 1,\r\n        transition: \"opacity 500ms ease-in\"\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","const styles = theme => ({\r\n    price: {\r\n        color: theme.palette.primary.main\r\n    },\r\n    container: {},\r\n    isChecked: {\r\n        textAlign: \"center\"\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport {\r\n    Checkbox,\r\n    FormControlLabel,\r\n    Grid,\r\n    Typography,\r\n    withStyles\r\n} from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\n\r\n// Firebase\r\nimport firebase from \"../../../../../firebase/config\";\r\n\r\nconst LastOrderSummary = ({ classes, order, orderId }) => {\r\n    const updateOrderStatus = () => {\r\n        firebase\r\n            .database()\r\n            .ref(`/orders/${orderId}`)\r\n            .update({ taken: !order.taken });\r\n    };\r\n    const handleIsDoneClick = e => {\r\n        updateOrderStatus();\r\n    };\r\n    const date = new Date(order.timestamp);\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Grid item xs={3}>\r\n                {date.toLocaleString()}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n                <Grid container direction=\"column\">\r\n                    <div>\r\n                        Email: <b>{order.email}</b>\r\n                    </div>\r\n                    <div>\r\n                        Name: <b>{order.name}</b>\r\n                    </div>\r\n                    <div>\r\n                        Phone: <b>{order.phone}</b>\r\n                    </div>\r\n                    <div>\r\n                        Address: <b>{order.address}</b>\r\n                    </div>\r\n                    <div>\r\n                        Registered: <b>{order.uid ? \"Yes\" : \"No\"}</b>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n                <Grid container alignItems={\"flex-end\"} direction=\"column\">\r\n                    <div>\r\n                        {order.totalQuantity}{\" \"}\r\n                        {order.totalQuantity > 1 ? \"items\" : \"item\"}\r\n                    </div>\r\n                    <Typography variant=\"subtitle1\" className={classes.price}>\r\n                        {order.totalPrice} UAH\r\n                    </Typography>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={2} className={classes.isChecked}>\r\n                <FormControlLabel\r\n                    onClick={e => e.stopPropagation()}\r\n                    control={\r\n                        <Checkbox\r\n                            checked={!!order.taken}\r\n                            onChange={handleIsDoneClick}\r\n                            value={String(!!order.taken)}\r\n                        />\r\n                    }\r\n                    label=\"Checked\"\r\n                />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nLastOrderSummary.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    order: PropTypes.object.isRequired,\r\n    orderId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(LastOrderSummary);\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n// MUI\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\n\r\n// Third-party\r\nimport firebase from \"../../../firebase/config\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\n\r\n// Assets\r\nimport audio from \"../../../assets/notification.mp3\";\r\n\r\n// Components\r\nimport OrderCard from \"../../../Components/MyOrders/OrderCardList/OrderCard\";\r\nimport OrderCardDetails from \"../../../Components/MyOrders/OrderCardList/OrderCard/OrderCardDetails\";\r\nimport LastOrderSummary from \"../../../Components/Admins/LastOrders/Card/LastOrderSummary\";\r\nimport Spinner from \"../../../Components/UI/Spinner\";\r\n\r\nconst LastOrders = ({ classes }) => {\r\n    const audRef = useRef(null);\r\n    const [, setCount] = useState(0);\r\n    const [lastOrders, setLastOrders] = useState([]);\r\n    const newOrdersListener = res => {\r\n        const order = res.val();\r\n        const orderId = res.key;\r\n        setLastOrders(prevState => [{ order, orderId }, ...prevState]);\r\n        setCount(prevState => {\r\n            //Play sound after 10 orders has been loaded\r\n            if (prevState > 9) {\r\n                audRef.current.play();\r\n            }\r\n            return prevState + 1;\r\n        });\r\n    };\r\n    const orderStatusChangedListener = res => {\r\n        console.log(\"child changed\");\r\n        const idOfChanged = res.key;\r\n        const valueOfChanged = res.val();\r\n        setLastOrders(prevState => {\r\n            const idx = prevState.findIndex(\r\n                order => order.orderId === idOfChanged\r\n            );\r\n            console.log(idx);\r\n            const updated = {\r\n                ...prevState[idx],\r\n                order: { ...prevState[idx].order, ...valueOfChanged }\r\n            };\r\n            const updArr = [...prevState];\r\n            updArr[idx] = updated;\r\n            console.log(updArr);\r\n            return updArr;\r\n        });\r\n        console.log(res.val());\r\n    };\r\n    const errorHandler = err => {\r\n        console.log(err);\r\n    };\r\n    useEffect(() => {\r\n        console.log(\"subscribe\");\r\n        firebase\r\n            .database()\r\n            .ref(\"/orderIds\")\r\n            .once(\"value\")\r\n            .then(res => console.log(res.val()));\r\n        firebase\r\n            .database()\r\n            .ref(\"/orders\")\r\n            .limitToLast(10)\r\n            .on(\"child_added\", newOrdersListener, errorHandler);\r\n        firebase\r\n            .database()\r\n            .ref(\"/orders\")\r\n            .limitToLast(10)\r\n            .on(\"child_changed\", orderStatusChangedListener, errorHandler);\r\n        return () => {\r\n            console.log(\"unsubscribe\");\r\n            firebase\r\n                .database()\r\n                .ref(\"/orders\")\r\n                .off(\"child_added\", newOrdersListener);\r\n            firebase\r\n                .database()\r\n                .ref(\"/orders\")\r\n                .off(\"child_changed\", orderStatusChangedListener);\r\n        };\r\n    }, []);\r\n    return (\r\n        <div>\r\n            <audio ref={audRef}>\r\n                <source src={audio} type=\"audio/mpeg\" />\r\n            </audio>\r\n            New orders\r\n            {!lastOrders.length && <Spinner />}\r\n            <TransitionGroup>\r\n                {lastOrders.map(orderObj => (\r\n                    <CSSTransition\r\n                        key={orderObj.orderId}\r\n                        timeout={500}\r\n                        classNames={`${classes.transitionItem}`}\r\n                    >\r\n                        <OrderCard\r\n                            key={orderObj.orderId}\r\n                            cardSummary={() => (\r\n                                <LastOrderSummary\r\n                                    order={orderObj.order}\r\n                                    orderId={orderObj.orderId}\r\n                                />\r\n                            )}\r\n                            cardDetails={() => (\r\n                                <OrderCardDetails\r\n                                    order={orderObj.order}\r\n                                    orderId={orderObj.orderId}\r\n                                />\r\n                            )}\r\n                            order={orderObj.order}\r\n                        />\r\n                    </CSSTransition>\r\n                ))}\r\n            </TransitionGroup>\r\n        </div>\r\n    );\r\n};\r\n\r\nLastOrders.propTypes = {\r\n    classes: PropTypes.object.isRequired\r\n}\r\n\r\nexport default withStyles(styles)(LastOrders);\r\n","import React, { useState } from \"react\";\r\nimport { Helmet } from \"react-helmet/es/Helmet\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// MUI\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\n\r\n// Components\r\nimport AdminSidebar from \"../../../Components/Admins/Sidebar\";\r\nimport LastOrders from \"../LastOrders\";\r\n\r\n// Router\r\nimport { Route, withRouter } from \"react-router\";\r\n\r\nconst Panel = ({ classes, match }) => {\r\n    const [isSibebarOpened, setIsSidebarOpened] = useState(true);\r\n    return (\r\n        <section className={classes.root}>\r\n            <Helmet title=\"Manager panel\" />\r\n            <AdminSidebar\r\n                isOpened={isSibebarOpened}\r\n                onToggle={() => setIsSidebarOpened(!isSibebarOpened)}\r\n            />\r\n            <div className={classes.content}>\r\n                <Route\r\n                    path={`${match.url}/last-orders`}\r\n                    component={LastOrders}\r\n                />\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nPanel.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    match: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(withRouter(Panel));\r\n"],"sourceRoot":""}